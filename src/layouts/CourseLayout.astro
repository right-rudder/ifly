---
import { Image } from "astro:assets";
import { FaDotCircle } from "react-icons/fa";
import { IoMdAirplane } from "react-icons/io";
import type { ImageMetadata } from "astro";
import FAQs from "../components/FAQs";
import { sequence } from "astro:middleware";
import ProgramForm from "../components/ProgramForm.astro";
import LogoWhiteNoText from "../assets/ifly-logo-white-no-text.png";
import CTAImage from "../components/CTAImage.astro";
import IndexForm from "../components/IndexForm.astro";


const { data } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/*.{jpeg,jpg,png,gif,webp}",
);

const esData = {
  title: "Sobre la carrera",
  sidebarTitle: "¿Qué necesitas para comenzar?",
  sidebarNote: "*Documentos en original y cuatro copias simples.",
  primaryButton: "Regístrate",
  secondaryButton: "Más información",
  sidebarTitle2: "Agenda una visita",
  sidebarText:
    "¿Quieres conocer más sobre la carrera? Agenda una visita a nuestro campus y conoce a uno de nuestros instructores certificados.",
};

const enData = {
  title: "About the program",
  sidebarTitle: "What do you need to start?",
  sidebarNote: "*Documents in original and four simple copies.",
  primaryButton: "Sign up",
  secondaryButton: "More information",
  sidebarTitle2: "Schedule a visit",
  sidebarText:
    "Do you want to know more about the program? Schedule a visit to our campus and meet one of our certified instructors.",
};

const imageURL = "../src/assets/flota.webp";
const lang = Astro.currentLocale === "en" ? "en" : "es";
const info = Astro.currentLocale === "en" ? enData : esData;
---
<>
  <section class="flex flex-col">
    <div class="lg:mx-32 my-12">
      <div class="mx-auto max-w-[80vw] grid grid-cols-1 lg:grid-cols-3 course-grid-colors">
        {
          data.faqs.map((q) => (
            <nav>
              <div class="bg-dark-blue flex flex-col py-10 group w-full h-full">
                <div class="border-r border-white/20 px-10 flex flex-col items-center group-last:border-0 w-full h-full">
                  <span class="text-xl md:text-2xl text-main-blue font-semibold">
                    {q.question}
                  </span>
                  <h2 class="text-lg my-auto"
                    set:html={q.answer}
                  >
                  </h2>
                </div>
              </div>
            </nav>
          ))
        }
      </div>
      <div class="flex flex-col mx-auto w-full bg-[rgba(16,79,132,255)] relative -top-24 -z-10 overflow-hidden">
        <Image
          src={LogoWhiteNoText}
          alt="iFly logo in white"
          class="w-72 absolute -left-11 top-36 -z-50 filter-opacity-20"
        />

        <div class="flex flex-col w-11/12 lg:w-6/12 mx-auto my-32 gap-4">
          <h3
            class="text-center text-2xl lg:text-4xl font-semibold"
            set:html={info.sidebarTitle}
          >
          </h3>
          <ul>
            {
              data.prerequisites.map((step) => (
                <li class="flex items-center gap-2 w-8/12 mx-auto text-lg">
                  <FaDotCircle className="text-main-blue size-3 shrink-0" />
                  <div set:html={step} />
                </li>
              ))
            }
          </ul>
          <br/>
          <h3
            class="text-center text-2xl lg:text-4xl font-semibold"
            set:html={info.sidebarTitle2}
          >
          </h3>
          <p class="text-xl px-8">
            {info.sidebarText}
          </p>
      </div>
      </div>
    </div>
  <section/>
  <CTAImage imgURL={imageURL}/>
  <IndexForm />
</>
