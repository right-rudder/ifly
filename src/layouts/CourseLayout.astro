---
import { Image } from "astro:assets";
import { FaDotCircle } from "react-icons/fa";
import { IoMdAirplane } from "react-icons/io";
import type { ImageMetadata } from "astro";
import FAQs from "../components/FAQs";

const { data } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/*.{jpeg,jpg,png,gif,webp}",
);
---

<section class="py-12 px-5 bg-main-black/10 lg:pb-60">
  <div class="max-w-7xl mx-auto flex flex-col lg:flex-row gap-20">
    <div class="flex-[2_2_0] flex flex-col gap-5">
      <Image
        src={images[data.primaryImage]()}
        alt={data.primaryAlt}
        class="rounded-xl aspect-video object-cover w-full"
      />
      <div class="flex flex-col gap-5 mt-10">
        <h2 class="text-5xl">Sobre la carrera</h2>
        {
          data.intro.map((intro) => (
            <p class="text-main-black/80 lg:text-lg" set:html={intro} />
          ))
        }
      </div>
      <FAQs faqs={data.faqs} client:visible />
    </div>
    <aside class="flex-1 flex flex-col gap-10 max-w-xl mx-auto">
      <div class="bg-white rounded-xl p-10 flex flex-col gap-5 shadow-sm">
        <h4 class="text-3xl">¿Qué necesitas para comenzar?</h4>
        <hr />
        <ul class="flex flex-col gap-2 my-3">
          {
            data.prerequisites.map((step) => (
              <li class="flex items-center gap-2 text-main-black/80">
                <FaDotCircle className="text-main-blue size-3 shrink-0" />
                <div set:html={step} />
              </li>
            ))
          }
        </ul>
        <p class="font-medium">
          *Documentos en original y cuatro copias simples.
        </p>
        <a href="#sign-up-form" class="btn-primary w-full">Regístrate</a>
      </div>

      <div class="bg-white rounded-xl p-10 flex flex-col gap-5 shadow-sm">
        <div class="bg-main-blue w-fit rounded-full p-3">
          <IoMdAirplane className="size-10 text-main-black" />
        </div>
        <h4 class="text-3xl">Agenda una visita</h4>
        <hr />
        <p class="text-main-black/80 lg:text-lg">
          ¿Quieres conocer más sobre la carrera? Agenda una visita a nuestro
          campus y conoce a uno de nuestros instructores certificados.
        </p>
        <a
          href="/contacto"
          class="btn-secondary w-full border-main-black text-main-black hover:bg-main-black/10"
          >Más información</a
        >
      </div>
    </aside>
  </div>
</section>

<section class="py-24 px-5 lg:scroll-my-80 bg-main-blue" id="sign-up-form">
  <div class="max-w-xl lg:max-w-7xl mx-auto text-white">
    <div class="flex flex-col lg:flex-row gap-10">
      <div class="lg:flex-1 flex flex-col gap-5">
        <h2 class="font-extrabold text-5xl text-main-black">
          Toma el primer paso...
        </h2>
        <p class="text-lg">
          Empieza tu a estudiar hoy en iFly Universidad Aeronáutica y toma el
          primer paso en tu carrera.
        </p>
        <p class="text-lg">
          Llena el siguiente formulario y te contactaremos para agendar una una
          visita en nuestro campus. Tendrás la oportunidad de conocer iFly de
          cerca y conocer a uno de nuestros instructores certificados.
        </p>
      </div>
      <div class="lg:flex-1 relative">
        <form
          class="flex flex-col max-w-4xl mx-auto gap-5 my-5 lg:my-0 bg-white p-10 rounded-xl shadow-md lg:absolute bottom-0 right-0"
        >
          <div class="flex flex-col lg:flex-row gap-5">
            <input
              type="text"
              name="first-name"
              placeholder="Nombre/s"
              class="px-5 py-4 outline-1 w-full border-gray-400 border outline-gray-500 rounded-lg"
              required
            />
            <input
              type="text"
              name="last-name"
              placeholder="Apellido/s"
              class="px-5 py-4 outline-1 w-full border-gray-400 border outline-gray-500 rounded-lg"
              required
            />
          </div>
          <div class="flex flex-col lg:flex-row gap-5">
            <input
              id="email"
              type="email"
              name="email"
              placeholder="Email"
              class="px-5 py-4 outline-1 w-full border-gray-400 border outline-gray-500 rounded-lg"
              required
            />
            <input
              type="email"
              name="confirm-email"
              placeholder="Confirm email"
              class="hidden px-5 py-4 outline-1 w-full border-gray-400 border outline-gray-500 rounded-lg"
            />
            <input
              type="tel"
              name="phone"
              placeholder="Teléfono"
              class="px-5 py-4 outline-1 w-full border-gray-400 border outline-gray-500 rounded-lg"
              required
            />
          </div>

          <input
            id="interested-in"
            name="interested-in"
            type="text"
            value={data.title}
            class="hidden px-5 py-4 outline-1 w-full border-gray-400 border outline-gray-500 rounded-lg"
            required
          />

          <textarea
            id="more-info"
            name="more-info"
            placeholder="Comentario"
            class="px-5 py-4 outline-1 border-gray-400 border outline-gray-500 rounded-lg min-h-24"
          ></textarea>

          <div class="flex gap-3">
            <input
              type="checkbox"
              name="agree-data-collection"
              id="agree-data-collection"
            />

            <label
              for="agree-data-collection"
              class="text-gray-500 text-sm lg:text-base"
            >
              Acepto los términos y condiciones proporcionados por la empresa.
              Al proporcionar mi número de teléfono, acepto recibir mensajes de
              texto de iFly Universidad Aeronáutica.
            </label>
          </div>
          <button id="submit-button" disabled type="submit" class="btn-primary"
            >Enviar</button
          >
        </form>
      </div>
    </div>
  </div>
</section>
